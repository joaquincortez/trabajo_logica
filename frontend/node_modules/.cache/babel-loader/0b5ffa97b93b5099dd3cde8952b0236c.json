{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\joaqu\\\\Documents\\\\Trabajo logica\\\\frontend\\\\src\\\\components\\\\Resultados.js\";\nimport React, { Component } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport axios from \"axios\";\naxios.defaults.xsrfCookieName = 'csrftoken';\naxios.defaults.xsrfHeaderName = 'X-CSRFToken';\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\nasync function enviarRequest(sabores) {\n  const json = JSON.stringify(sabores);\n  const res = await axios.post('http://localhost:8000/calculos/', json, {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n}\n\nfunction hacerRequest() {\n  let x;\n  axios.post(\"http://localhost:8000/calculos/\").then(res => this.x = res.data).catch(err => x = err);\n  return x;\n}\n\nfunction Resultados() {\n  let query = useQuery();\n  let parametros = Array.from(query.entries());\n  let sabores = {};\n  let materias = {};\n  console.log(parametros);\n  let i = 0;\n\n  for (i; i < parametros.length - 1; i += 2) {\n    console.log(\"sabor\".localeCompare(parametros[i][0].substring(0, 5)) === 0);\n\n    if (\"sabor\".localeCompare(parametros[i][0].substring(0, 5)) === 0) {\n      console.log('entro');\n      sabores[parametros[i][1]] = parametros[i + 1][1];\n      console.log(parametros[i][1] + \" \" + parametros[i + 1][1]);\n    } else break;\n  }\n\n  for (i; i < parametros.length - 1; i += 2) {\n    console.log('aca');\n    materias[parametros[i][1]] = parametros[i + 1][1];\n  }\n\n  console.log(sabores);\n  console.log(materias);\n  const res = hacerRequest(sabores);\n  console.log(res);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, \"Se muestran los resultados para la url\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, res));\n}\n\nexport default Resultados;","map":{"version":3,"sources":["C:/Users/joaqu/Documents/Trabajo logica/frontend/src/components/Resultados.js"],"names":["React","Component","useLocation","axios","defaults","xsrfCookieName","xsrfHeaderName","useQuery","URLSearchParams","search","enviarRequest","sabores","json","JSON","stringify","res","post","headers","hacerRequest","x","then","data","catch","err","Resultados","query","parametros","Array","from","entries","materias","console","log","i","length","localeCompare","substring"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {useLocation} from 'react-router-dom';\r\nimport axios from \"axios\";\r\n\r\naxios.defaults.xsrfCookieName = 'csrftoken';\r\naxios.defaults.xsrfHeaderName = 'X-CSRFToken';\r\n\r\nfunction useQuery() {\r\n    return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nasync function enviarRequest(sabores){\r\n    const json = JSON.stringify(sabores);\r\n    const res = await axios.post('http://localhost:8000/calculos/', json, {\r\n    headers: {\r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\n\r\n}\r\n\r\nfunction hacerRequest(){\r\n    let x;\r\n    axios\r\n    .post(\"http://localhost:8000/calculos/\")\r\n    .then(res => this.x = res.data)\r\n    .catch(err => x = err);\r\n    return x;\r\n}\r\n\r\nfunction Resultados(){\r\n    let query = useQuery();\r\n    let parametros = Array.from(query.entries());\r\n    let sabores = {};\r\n    let materias = {}\r\n    console.log(parametros);\r\n    let i =0;\r\n    for(i; i<parametros.length-1; i+=2){\r\n        console.log(\"sabor\".localeCompare(parametros[i][0].substring(0,5)) === 0)\r\n        if(\"sabor\".localeCompare(parametros[i][0].substring(0,5)) === 0){\r\n            console.log('entro');\r\n            sabores[parametros[i][1]] = parametros[i+1][1];\r\n            console.log(parametros[i][1] + \" \" + parametros[i+1][1])\r\n        }\r\n        else\r\n            break;\r\n    }\r\n\r\n    for(i; i<parametros.length -1; i+=2){\r\n        console.log('aca');\r\n        materias[parametros[i][1]] = parametros[i+1][1];\r\n    }\r\n    \r\n    console.log(sabores);\r\n    console.log(materias);\r\n    const res = hacerRequest(sabores);\r\n    console.log(res);\r\n    return(\r\n        <div>\r\n            <h1>Se muestran los resultados para la url</h1>\r\n            <p>{res}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Resultados;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\joaqu\\\\Documents\\\\Trabajo logica\\\\frontend\\\\src\\\\components\\\\Resultados.js\";\nimport React, { Component } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport axios from \"axios\";\naxios.defaults.xsrfCookieName = 'csrftoken';\naxios.defaults.xsrfHeaderName = 'X-CSRFToken';\n\nclass Resultados extends React.Component {\n  usarQuery() {\n    const search = this.props.location.search; // could be '?foo=bar'\n\n    return new URLSearchParams(search);\n  }\n\n  enviarRequest(sabores) {\n    const json = JSON.stringify(sabores);\n    const res = axios.post('http://localhost:8000/calculos/', json, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n  }\n\n  hacerRequest() {\n    let x;\n    axios.post(\"http://localhost:8000/calculos/\").then(res => {\n      x = res.data;\n    }).catch(err => {\n      x = err;\n    });\n    console.log(\"x es \" + x);\n    return x;\n  }\n\n  render() {\n    let query = this.usarQuery();\n    let parametros = Array.from(query.entries());\n    let sabores = {};\n    let materias = {};\n    console.log(parametros);\n    let i = 0;\n\n    for (i; i < parametros.length - 1; i += 2) {\n      console.log(\"sabor\".localeCompare(parametros[i][0].substring(0, 5)) === 0);\n\n      if (\"sabor\".localeCompare(parametros[i][0].substring(0, 5)) === 0) {\n        console.log('entro');\n        sabores[parametros[i][1]] = parametros[i + 1][1];\n        console.log(parametros[i][1] + \" \" + parametros[i + 1][1]);\n      } else break;\n    }\n\n    for (i; i < parametros.length - 1; i += 2) {\n      console.log('aca');\n      materias[parametros[i][1]] = parametros[i + 1][1];\n    }\n\n    console.log(sabores);\n    console.log(materias);\n    const res = this.hacerRequest(sabores);\n    console.log(res);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }\n    }, \"Se muestran los resultados para la url\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }, res));\n  }\n\n}\n\nexport default Resultados;","map":{"version":3,"sources":["C:/Users/joaqu/Documents/Trabajo logica/frontend/src/components/Resultados.js"],"names":["React","Component","useLocation","axios","defaults","xsrfCookieName","xsrfHeaderName","Resultados","usarQuery","search","props","location","URLSearchParams","enviarRequest","sabores","json","JSON","stringify","res","post","headers","hacerRequest","x","then","data","catch","err","console","log","render","query","parametros","Array","from","entries","materias","i","length","localeCompare","substring"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {useLocation} from 'react-router-dom';\r\nimport axios from \"axios\";\r\n\r\naxios.defaults.xsrfCookieName = 'csrftoken';\r\naxios.defaults.xsrfHeaderName = 'X-CSRFToken';\r\n\r\nclass Resultados extends React.Component{\r\n\r\n    usarQuery() {\r\n        const search = this.props.location.search; // could be '?foo=bar'\r\n        return new URLSearchParams(search)\r\n    }\r\n\r\n    enviarRequest(sabores){\r\n        const json = JSON.stringify(sabores);\r\n        const res = axios.post('http://localhost:8000/calculos/', json, {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    });\r\n\r\n    }\r\n\r\n    hacerRequest(){\r\n        let x;\r\n        axios\r\n        .post(\"http://localhost:8000/calculos/\")\r\n        .then(res => {x = res.data})\r\n        .catch(err => {x = err});\r\n        console.log(\"x es \" +x);\r\n        return x;\r\n    }\r\n\r\n    render(){\r\n        let query = this.usarQuery();\r\n        let parametros = Array.from(query.entries());\r\n        let sabores = {};\r\n        let materias = {}\r\n        console.log(parametros);\r\n        let i =0;\r\n        for(i; i<parametros.length-1; i+=2){\r\n            console.log(\"sabor\".localeCompare(parametros[i][0].substring(0,5)) === 0)\r\n            if(\"sabor\".localeCompare(parametros[i][0].substring(0,5)) === 0){\r\n                console.log('entro');\r\n                sabores[parametros[i][1]] = parametros[i+1][1];\r\n                console.log(parametros[i][1] + \" \" + parametros[i+1][1])\r\n            }\r\n            else\r\n                break;\r\n        }\r\n\r\n        for(i; i<parametros.length -1; i+=2){\r\n            console.log('aca');\r\n            materias[parametros[i][1]] = parametros[i+1][1];\r\n        }\r\n        \r\n        console.log(sabores);\r\n        console.log(materias);\r\n        const res = this.hacerRequest(sabores);\r\n        console.log(res);\r\n        return(\r\n            <div>\r\n                <h1>Se muestran los resultados para la url</h1>\r\n                <p>{res}</p>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Resultados;"]},"metadata":{},"sourceType":"module"}
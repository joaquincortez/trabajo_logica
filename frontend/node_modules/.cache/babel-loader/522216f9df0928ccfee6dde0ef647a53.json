{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\joaqu\\\\Documents\\\\Trabajo logica\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\joaqu\\\\Documents\\\\Trabajo logica\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\joaqu\\\\Documents\\\\Trabajo logica\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\joaqu\\\\Documents\\\\Trabajo logica\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import axios from\"axios\";axios.defaults.xsrfCookieName='csrftoken';axios.defaults.xsrfHeaderName='X-CSRFToken';var respuestas={\"fracaso\":\"Se ha producido un error.\",\"opcion_no_disponible\":\"El objetivo de optimización indicado no está disponible.\"};var ResultadosPacking=/*#__PURE__*/function(_React$Component){_inherits(ResultadosPacking,_React$Component);var _super=_createSuper(ResultadosPacking);function ResultadosPacking(props){var _this;_classCallCheck(this,ResultadosPacking);_this=_super.call(this,props);_this.requestResults=function(data){axios.post(\"http://localhost:8000/packing/\",data).then(function(res){console.log(res);_this.setState({datos:res.data});}).catch(function(err){console.log(err);});};_this.state={datos:[]};return _this;}_createClass(ResultadosPacking,[{key:\"usarQuery\",value:function usarQuery(){var search=window.location.href;var params=new URLSearchParams(search);return params;}},{key:\"componentDidMount\",value:function componentDidMount(){var query=this.usarQuery();var parametros=Array.from(query.entries());var capacidadCamiones=[];var helados=[];var tamanos=[];var cantCajas=[];console.log(\" parametros es \",parametros);parametros[0][0]=\"camion1\";//porque devuelve como primero toda la url\nvar i=0;while(i<parametros.length&&\"camion\".localeCompare(parametros[i][0].substring(0,6))===0){capacidadCamiones.push(parametros[i][1]);i++;}for(i;i<parametros.length;i+=3){helados.push(parametros[i][1]);tamanos.push(parametros[i+1][1]);cantCajas.push(parametros[i+2][1]);}var data={capacidades:capacidadCamiones,helados:helados,tamanos:tamanos,cantidades:cantCajas};console.log(\"data es: \",data);this.requestResults(data);}},{key:\"render\",value:function render(){var datos=this.state.datos;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Resultados packing\"),/*#__PURE__*/React.createElement(\"div\",null,this.state.datos[\"resultado\"]===\"fracaso\"&&/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h3\",{className:\"text-danger\"},respuestas[this.state.datos[\"resultado\"]]),/*#__PURE__*/React.createElement(\"p\",null,respuestas[this.state.datos[\"razon_fracaso\"]])),this.state.datos[\"resultado\"]===\"exito\"&&/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h5\",null,\"Se ha almacenado un valor total en los \",datos.camiones.length,\" camiones de $\",datos.valor_total,\".\"),/*#__PURE__*/React.createElement(\"h5\",null,\"Se ha almacenado un peso total en los \",datos.camiones.length,\" camiones de \",datos.peso_total,\"kg.\"),datos.camiones.map(function(camion){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h5\",null,\"Cami\\xF3n - Capacidad \",camion.capacidad,\"kg.\"),/*#__PURE__*/React.createElement(\"ul\",null,camion.carga.map(function(carga){return/*#__PURE__*/React.createElement(\"li\",null,\"Se han almacenado \",carga.cantidad,\" cajas de \",carga.peso,\"kg de \",carga.item,\" - Aportando un valor de $\",carga.valor,\" y un peso de \",carga.peso*carga.cantidad,\"kg.\");})),/*#__PURE__*/React.createElement(\"p\",null,\"En total, el cami\\xF3n ha almacenado un valor total de $\",camion.valor_camion,\" y un peso de \",camion.peso_camion,\"kg.\"));}))));}}]);return ResultadosPacking;}(React.Component);export default ResultadosPacking;","map":{"version":3,"sources":["C:/Users/joaqu/Documents/Trabajo logica/frontend/src/components/ResultadosPacking.js"],"names":["React","axios","defaults","xsrfCookieName","xsrfHeaderName","respuestas","ResultadosPacking","props","requestResults","data","post","then","res","console","log","setState","datos","catch","err","state","search","window","location","href","params","URLSearchParams","query","usarQuery","parametros","Array","from","entries","capacidadCamiones","helados","tamanos","cantCajas","i","length","localeCompare","substring","push","capacidades","cantidades","camiones","valor_total","peso_total","map","camion","capacidad","carga","cantidad","peso","item","valor","valor_camion","peso_camion","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from \"axios\";\r\n\r\naxios.defaults.xsrfCookieName = 'csrftoken';\r\naxios.defaults.xsrfHeaderName = 'X-CSRFToken';\r\n\r\nconst respuestas = {\r\n    \"fracaso\": \"Se ha producido un error.\",\r\n    \"opcion_no_disponible\": \"El objetivo de optimización indicado no está disponible.\",\r\n\r\n};\r\n\r\nclass ResultadosPacking extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            datos: [],\r\n        }\r\n    }\r\n\r\n    usarQuery() {\r\n        const search = window.location.href; \r\n        let params =  new URLSearchParams(search)\r\n        return params;\r\n    }\r\n\r\n    requestResults = (data) => {\r\n        axios\r\n        .post(\"http://localhost:8000/packing/\", data)\r\n        .then(res => {\r\n            console.log(res);\r\n            this.setState({ datos: res.data })})\r\n        .catch(err => {console.log(err)});\r\n    }\r\n\r\n    componentDidMount(){\r\n        let query = this.usarQuery();\r\n        let parametros = Array.from(query.entries());\r\n        \r\n        let capacidadCamiones = []\r\n        let helados = [];\r\n        let tamanos = [];\r\n        let cantCajas = []\r\n        console.log(\" parametros es \",parametros)\r\n        parametros[0][0] = \"camion1\"; //porque devuelve como primero toda la url\r\n        let i=0;\r\n        while(i< parametros.length && \"camion\".localeCompare(parametros[i][0].substring(0,6)) === 0){\r\n            capacidadCamiones.push(parametros[i][1]);\r\n            i++;\r\n        }\r\n        for(i; i<parametros.length; i+=3){\r\n            helados.push(parametros[i][1]);\r\n            tamanos.push(parametros[i+1][1]);\r\n            cantCajas.push(parametros[i+2][1]);\r\n        }\r\n\r\n        let data = { capacidades: capacidadCamiones, helados:helados, tamanos: tamanos, cantidades: cantCajas}\r\n        console.log(\"data es: \",data);\r\n        this.requestResults(data)\r\n\r\n    }\r\n\r\n    render(){\r\n        const datos = this.state.datos\r\n        return(\r\n            <div>\r\n                <h1>Resultados packing</h1>\r\n                <div>\r\n                    {this.state.datos[\"resultado\"] === \"fracaso\" && \r\n                        <div>\r\n                        <h3 className=\"text-danger\">{respuestas[this.state.datos[\"resultado\"]]}</h3>\r\n                        <p>{respuestas[this.state.datos[\"razon_fracaso\"]]}</p>\r\n                        </div>}\r\n                    {this.state.datos[\"resultado\"] ===\"exito\" &&\r\n                    <div> \r\n                        <h5>Se ha almacenado un valor total en los {datos.camiones.length} camiones de ${datos.valor_total}.</h5>\r\n                        <h5>Se ha almacenado un peso total en los {datos.camiones.length} camiones de {datos.peso_total}kg.</h5>\r\n                        {datos.camiones.map(camion =>\r\n                            <div>\r\n                                <h5>Camión - Capacidad {camion.capacidad}kg.</h5>\r\n                                <ul>\r\n                                    {camion.carga.map(carga =>\r\n                                    <li>Se han almacenado {carga.cantidad} cajas de {carga.peso}kg de {carga.item} - Aportando un valor de ${carga.valor} y un peso de {carga.peso * carga.cantidad}kg.</li>\r\n                                    )}\r\n                                </ul>\r\n                                <p>En total, el camión ha almacenado un valor total de ${camion.valor_camion} y un peso de {camion.peso_camion}kg.</p>\r\n                            </div>    \r\n                        )}\r\n\r\n                    </div>}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ResultadosPacking;"]},"metadata":{},"sourceType":"module"}
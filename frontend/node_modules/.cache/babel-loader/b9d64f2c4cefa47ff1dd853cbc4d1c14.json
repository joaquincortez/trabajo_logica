{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\joaqu\\\\Documents\\\\Trabajo logica\\\\frontend\\\\src\\\\components\\\\ResultadosPacking.js\";\nimport React from 'react';\nimport axios from \"axios\";\naxios.defaults.xsrfCookieName = 'csrftoken';\naxios.defaults.xsrfHeaderName = 'X-CSRFToken';\n\nclass ResultadosPacking extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.requestResults = data => {\n      axios.post(\"http://localhost:8000/packing/\", data).then(res => {\n        console.log(res);\n        this.setState({\n          datos: res.data\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.state = {\n      datos: []\n    };\n  }\n\n  usarQuery() {\n    const search = window.location.href;\n    let params = new URLSearchParams(search);\n    return params;\n  }\n\n  componentDidMount() {\n    let query = this.usarQuery();\n    let parametros = Array.from(query.entries());\n    let capacidadCamiones = [];\n    let helados = [];\n    let tamanos = [];\n    let cantCajas = [];\n    console.log(\" parametros es \", parametros);\n    parametros[0][0] = \"camion1\"; //porque devuelve como primero toda la url\n\n    let i = 0;\n\n    while (i < parametros.length && \"camion\".localeCompare(parametros[i][0].substring(0, 6)) === 0) {\n      capacidadCamiones.push(parametros[i][1]);\n      i++;\n    }\n\n    for (i; i < parametros.length; i += 3) {\n      helados.push(parametros[i][1]);\n      tamanos.push(parametros[i + 1][1]);\n      cantCajas.push(parametros[i + 2][1]);\n    }\n\n    let data = {\n      capacidades: capacidadCamiones,\n      helados: helados,\n      tamanos: tamanos,\n      cantidades: cantCajas\n    };\n    console.log(\"data es: \", data);\n    this.requestResults(data);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }\n    }, \"Resultados packing\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, this.state.resultOpt[\"resultado\"] === \"fracaso\" && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 25\n      }\n    }, respuestas[this.state.resultOpt[\"resultado\"]]), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 25\n      }\n    }, respuestas[this.state.resultOpt[\"razon_fracaso\"]])), this.state.resultOpt[\"resultado\"] === \"exito\" && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 25\n      }\n    }, \"Objetivo: \", respuestas[this.state.resultOpt[\"optimizacion\"][\"objetivo\"]]), /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 25\n      }\n    }, \"Se produjeron ganancias por $\", this.state.resultOpt[\"optimizacion\"][\"objective_value\"]), /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 25\n      }\n    }, \"Se deben producir las siguientes cantidades de helados para \", respuestas[this.state.resultOpt[\"optimizacion\"][\"objetivo\"]].toLowerCase(), \":\"), /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 25\n      }\n    }, this.state.resultOpt.optimizacion.soluciones.map(solucion => /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 33\n      }\n    }, console.log(\"solucion es\", solucion), solucion.cantidad, \" unidades de \", solucion.nombre))))));\n  }\n\n}\n\nexport default ResultadosPacking;","map":{"version":3,"sources":["C:/Users/joaqu/Documents/Trabajo logica/frontend/src/components/ResultadosPacking.js"],"names":["React","axios","defaults","xsrfCookieName","xsrfHeaderName","ResultadosPacking","Component","constructor","props","requestResults","data","post","then","res","console","log","setState","datos","catch","err","state","usarQuery","search","window","location","href","params","URLSearchParams","componentDidMount","query","parametros","Array","from","entries","capacidadCamiones","helados","tamanos","cantCajas","i","length","localeCompare","substring","push","capacidades","cantidades","render","resultOpt","respuestas","toLowerCase","optimizacion","soluciones","map","solucion","cantidad","nombre"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from \"axios\";\r\n\r\naxios.defaults.xsrfCookieName = 'csrftoken';\r\naxios.defaults.xsrfHeaderName = 'X-CSRFToken';\r\n\r\nclass ResultadosPacking extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            datos: [],\r\n        }\r\n    }\r\n\r\n    usarQuery() {\r\n        const search = window.location.href; \r\n        let params =  new URLSearchParams(search)\r\n        return params;\r\n    }\r\n\r\n    requestResults = (data) => {\r\n        axios\r\n        .post(\"http://localhost:8000/packing/\", data)\r\n        .then(res => {\r\n            console.log(res);\r\n            this.setState({ datos: res.data })})\r\n        .catch(err => {console.log(err)});\r\n    }\r\n\r\n    componentDidMount(){\r\n        let query = this.usarQuery();\r\n        let parametros = Array.from(query.entries());\r\n        \r\n        let capacidadCamiones = []\r\n        let helados = [];\r\n        let tamanos = [];\r\n        let cantCajas = []\r\n        console.log(\" parametros es \",parametros)\r\n        parametros[0][0] = \"camion1\"; //porque devuelve como primero toda la url\r\n        let i=0;\r\n        while(i< parametros.length && \"camion\".localeCompare(parametros[i][0].substring(0,6)) === 0){\r\n            capacidadCamiones.push(parametros[i][1]);\r\n            i++;\r\n        }\r\n        for(i; i<parametros.length; i+=3){\r\n            helados.push(parametros[i][1]);\r\n            tamanos.push(parametros[i+1][1]);\r\n            cantCajas.push(parametros[i+2][1]);\r\n        }\r\n\r\n        let data = { capacidades: capacidadCamiones, helados:helados, tamanos: tamanos, cantidades: cantCajas}\r\n        console.log(\"data es: \",data);\r\n        this.requestResults(data)\r\n\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div>\r\n                <h1>Resultados packing</h1>\r\n                <div>\r\n                    {this.state.resultOpt[\"resultado\"] === \"fracaso\" && \r\n                        <div>\r\n                        <h3 className=\"text-danger\">{respuestas[this.state.resultOpt[\"resultado\"]]}</h3>\r\n                        <p>{respuestas[this.state.resultOpt[\"razon_fracaso\"]]}</p>\r\n                        </div>}\r\n                    {this.state.resultOpt[\"resultado\"] ===\"exito\" &&\r\n                    <div> \r\n                        <h4>Objetivo: {respuestas[this.state.resultOpt[\"optimizacion\"][\"objetivo\"]]}</h4>\r\n                        <h5>Se produjeron ganancias por ${this.state.resultOpt[\"optimizacion\"][\"objective_value\"]}</h5>\r\n                        <h5>Se deben producir las siguientes cantidades de helados para {respuestas[this.state.resultOpt[\"optimizacion\"][\"objetivo\"]].toLowerCase()}:</h5>\r\n                        <ul>\r\n                            {this.state.resultOpt.optimizacion.soluciones.map(solucion =>\r\n                                <li>\r\n                                    {console.log(\"solucion es\", solucion)}\r\n                                    {solucion.cantidad} unidades de {solucion.nombre}\r\n                                </li> )}\r\n                        </ul>\r\n                    </div>}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ResultadosPacking;"]},"metadata":{},"sourceType":"module"}